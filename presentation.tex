%!TEX TS-program = xelatex
% Standard Pattern
% program name in texttt
% program function and syntax
% program example by person giving the talk
% program useful options
% program example for participants

\documentclass[11pt]{beamer}

\usetheme{minflat}

\usepackage{hyperref}

\hypersetup{pdfstartview={Fit}}

\title[PLUG Meetup]{Master your Command Line \\ \small{(Before it masters you)} }
\subtitle{\large{Part 2: Useful commands}}
\author{Tejas Sanap}
\date{\today}

\begin{document}
	\begin{frame}
		\titlepage
	\end{frame}
	\begin{frame}
		\tableofcontents
	\end{frame}

	\section{Introduction}
		\begin{frame}{UNIX Philosophy}
			Focused on \emph{modularity} \& \emph{reusability}. \\
			It can be summarized as:
			\begin{itemize}
				\item Write programs that do one thing and do it well.
				\item Write programs to work together.
				\item Write programs to handle text streams, because that is a universal interface.
			\end{itemize}
		\end{frame}

		\begin{frame}{Basic Operations}
			All operations performed in the terminal can be categorized as:
			\begin{itemize}
				\item Search for text (in files).
					\begin{itemize}
						\item \texttt{cat, head, tail, wc}
						\item \texttt{grep}
					\end{itemize}
				\item Search for files (in directories).
					\begin{itemize}
						\item \texttt{find, locate}
					\end{itemize}
				\item Manipulate text (in files).
					\begin{itemize}
						\item \texttt{sed, awk, cut}
					\end{itemize}
				\item Manipulate files (in directories).
					\begin{itemize}
						\item \texttt{cp, scp, rm, mv, rsync}
						\item \texttt{gzip, tar}
					\end{itemize}
				\item Manipulate file permission and ownership.
			\end{itemize}			
		\end{frame}

		\begin{frame}{GNU Coreutils}
			The {\textbf{\color{darkpurple}{GNU Core Utilities}}} are the basic file, shell and text manipulation utilities of the GNU operating system. \\
				They are expected to be present on every operating system. \\
				Previously, the core utilities were implemented by the following pacakages:
				\begin{enumerate}
				  \item \texttt{fileutils} 
				  \item \texttt{shellutils} 
				  \item \texttt{textutils}
				\end{enumerate}	
				In 2003, these three packages were combined into the current \texttt{coreutils} package.
		\end{frame}
	
	\section{Search}
		\subsection{Text}
			\begin{frame}{\texttt{cat, head, cd , wc}}
				Utilities to view file content
				\begin{example}
					\texttt{cat -A -n -s torrent-trackers}
				\end{example}
				\begin{example}
					\texttt{head -n 10 torrent-trackers}
				\end{example}
				\begin{example}
					\texttt{cd , cd .., cd \textasciitilde, cd -}
				\end{example}
				\begin{example}
					\texttt{wc torrent-trackers}
				\end{example}
				{
					\definecolor{beamerorange}{RGB}{255,0,0}
					\begin{alertblock}{\texttt{wc} - Output}
						\texttt{465  233 9585 torrent-trackers} \\
						\tiny \texttt{newline, wordcount, bytes, filename}
					\end{alertblock}
				}
			\end{frame}

			\begin{frame}{ \texttt{ls}}
				\texttt{ls} displays directory contents. \\
				Useful \texttt{ls} options:
				\begin{description}
					\item[ \texttt{--sort}] \texttt{-S, -t, -X} Size, time, extension
					\item[ \texttt{--format}] \texttt{-1, -m, -l} Horizontal, commas, long
					\item[ \texttt{-h}] human readable
					\item[ \texttt{-g}] don't display file owner
					\item[ \texttt{-G}] don't display file group
					\item[ \texttt{-d}] list only directories
					\item[ \texttt{-I}] Ignore files matching pattern
					\item[ \texttt{--hide}]  Hide files matching pattern (overriden by \texttt{-a})
				\end{description}
			\end{frame}

			\begin{frame}{ \texttt{ls}}
				\begin{block}{Task}
					\begin{enumerate}
						\item List all the directories in the folder \texttt{find}
						\item List the last five files/folders to be modified
					\end{enumerate}
				\end{block}	
				\setbeamercovered{invisible}
				\begin{example}
					\begin{semiverbatim}
						\only<1>{\$ ls       }
						\only<2>{\$ ls -d *\\}
						\only<3>{\$ ls -1t | head} \end{semiverbatim}	
				\end{example}
			\end{frame}

			\begin{frame}{\texttt{grep}}
				\texttt{grep} prints line that matches a certain pattern.
				\begin{alertblock}{Syntax}
					\texttt{grep OPTIONS PATTERN INPUT\_FILE\_NAMES}
				\end{alertblock}
				\begin{exampleblock}{Example}
					\begin{semiverbatim}
						\$ grep --color=always "anime" torrent-tracker
						udp://tc.{\textbf{\color{red}{anime}}}reactor.ru:8082/announce
						udp://tc.{\textbf{\color{red}{anime}}}reactor.ru:8082/announce 
					\end{semiverbatim}	
				\end{exampleblock}
			\end{frame}

			\begin{frame}[t, fragile]{\texttt{grep}}
				The exit status of \texttt{grep} when:
				\begin{itemize}
					\item \textbf{line is selected} is \textbf{0}.
					\item \textbf{no line is selected} is \textbf{1}.
					\item \textbf{an error occurs} is \textbf{2}.
				\end{itemize}
				Useful \texttt{grep} options:
				\begin{description}
					\item[ \texttt{-i}] ignore case
					\item[ \texttt{-v}] invert matches
					\item[ \texttt{-c}] count no. of matching lines
					\item[ \texttt{-n}] prefix each line with line number
					\item[ \texttt{-l}] print name of the file and suppress all other output
					\item[ \texttt{-H}] print filename for each match
					\item[ \texttt{-o}] print only the matched parts of a line
					\item[ \texttt{-s}] suppress error messages
					\item[ \texttt{--color}] color the matching content
					\item[ \texttt{-a} ] accept binary input
					\item[ \texttt{--label=LABEL}] display input actually coming from \texttt{stdin} as input from file \texttt{LABEL}
				\end{description}
			\end{frame}

			\begin{frame}[t]{\texttt{grep}}
				\begin{block}{Task}
					\begin{enumerate}
						\item We have a tar file named \texttt{python\_code.tar.gz}
						\item We want to search for a function named \texttt{main}
						\item But, without, extracting or decompressing the tar file
					\end{enumerate}
				\end{block}	
				\setbeamercovered{invisible}
				\begin{example}
					\begin{semiverbatim}
						\only<1>{\$ tar -xf python\_code.tar.gz}
						\only<2>{\$ tar -xzf python\_code.tar.gz}
						\only<3>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep main}}'}
						\only<4>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a main}}'}
						\only<5>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a -H main}}'}
						\only<6>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a -H --label="\$TAR\_FILENAME" main}}'}
						\only<7>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a -H --label="\$TAR\_FILENAME" -n main}}'}
						\only<8>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a -H --label="\$TAR\_FILENAME" -c main}}'}
						\only<9>{\$ tar -xzf python\_code.tar.gz --to-command='\textbf{\color{red}{grep -a -H --label="\$TAR\_FILENAME" -c -s main}}'}
					\end{semiverbatim}
				\end{example}
			\end{frame}

		\subsection{Files}
			\begin{frame}[fragile]{ \texttt{find}}
				\texttt{find} search for files in a directory hierarchy.
				\setbeamercovered{invisible}
				\begin{alertblock}{Syntax}
					\only<1>{\texttt{find DIRECTORY EXPRESSION}}
					\only<2->{\texttt{find DIRECTORY TESTS ACTIONS}}
				\end{alertblock}
				\only<3->{
				\begin{example}
					\begin{semiverbatim}
						\$ find . -name fontawesome -print
						 ./fontawesome
					\end{semiverbatim}					
				\end{example}
			}
			\end{frame}
			\begin{frame}{ \texttt{locate}}
				locate
			\end{frame}
	
	\section{Manipulate}
		\subsection{Text}
			\begin{frame}{ \texttt{sed}}
				sed
			\end{frame}
			\begin{frame}{ \texttt{awk}}
				awk
			\end{frame}
			\begin{frame}{ \texttt{cut}}
				cur
			\end{frame}

		\subsection{Files}
			\begin{frame}{ \texttt{scp}}
				\begin{itemize}
					\item download \texttt{znc.pem} from server to add to irssi client
				\end{itemize}			
			\end{frame}
			\begin{frame}{ \texttt{rm}, \texttt{cp} \& \texttt{mv}}
				\begin{itemize}
					\item Text globbing - Use latex compile files and stuff as examples
					\item \href{https://www.gnu.org/software/bash/manual/bashref.html#Pattern-Matching}{Bash Pattern Matching} \\
						\texttt{ rm pre*.!(tex) }
				\end{itemize}	
			\end{frame}
			\begin{frame}{ \texttt{gzip, tar}}
				
			\end{frame}

	\section{Shell porn}
		\begin{frame}{\texttt{fortune} \& \texttt{cowsay}}
			\begin{itemize}
				\item Let's add some star trek quotes
				\item Cowthink and cowsay
				\item Add some bling with pony
			\end{itemize}
		\end{frame}

	\highlightedFrame{Questions?}

	\section{References}
		\begin{frame}{References}
			\begin{enumerate}
				\item \href{http://find.unixpin.com/}{UnixPin}
				\item \texttt{man 7 regex}
				\item {
						\texttt{find}:
						\begin{enumerate}
							\item \href{http://doc.cat-v.org/unix/find-history}{Find History}
						\end{enumerate}
					}
			\end{enumerate}
		\end{frame}

\end{document}
